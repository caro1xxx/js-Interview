#### 二进制协议

http1.1中,**报文头**必须是文本(ASCLL编码),**数据体**可以是文本或二进制

Http2.0中,**报文头和数据体必须是二进制**,并且统称为'帧',分为头信息帧和数据帧

> 帧的概念是**实现多路复用的基础**

#### 多路复用

Http2.0实现了多路复用,http2.0仍然**复用TCP连接**,但是在**一个连接**里,客户端和服务器可以发送**多个请求或答应**,**而不用按顺序**一一发送,这样就**避免了"队头堵塞"的问题**

#### 数据流

因为http2.0的数据包是不按顺序发送的,代表一个请求内可以有不同的请求和答应,那么如何区分属于哪个连接呢?

对数据包进行区分标记,指出属于哪个请求,http2.0将**一个连接内**的**所有**请求和答应的**数据包**称为一个**数据流**,每个数据流都有**一个独一无二的编号**,**数据包发送时都必须标记数据流编号**,用于区分属于哪个数据流

#### 头信息压缩

因为http1.1是无状态的,因此每次请求都会带上之前请求重复携带的头信息,造成资源浪费,http2.0对此做出了优化-"头信息压缩".

头信息压缩机制

* 头信息使用 gzip 或 compress **压缩后再发送**
* 客户端和服务器**同时维护一张头信息表,**所有字段都会存入这个表，生成一个索引号，**以后就不发送同样字段了**，只**发送索引 号**，这样就能提高速度了

#### 服务器推送

http2.0允许服务器未经请求向客户端推送资源,提前给客服端推送必要的资源,这里的推送**和WebSocket即是数据不是一个东西**,http2.0的推送指的**静态资源**

