> 首先需要清楚http是建立在TCP之上的,只有当TCP的三次握手成功后,才能建立http请求

#### 问题一:一个TCP连接对应多少个http请求

一个TCP连接可以对应*N个*http连接,只要在这个TCP连接**没有断开**,那么就可以**一直发送http请求**

#### 问题二:浏览器与服务器建立TCP连接后,会不会在完成一个http请求后断开

* http1.0会断开,需要手动设置`Connection:keep-alive`
* http1.1不会断开,因为默认设置了keep-alive

#### 问题三:在同一个TCP连接中,http请求可以同时发送同时响应吗

http1.1中`单个TCP连接在同一个时刻`只能处理一个请求

http1.1规范中规定了Pipelining,试图解决这个问题,但是浏览器默认关闭Pipelining

默认关闭原因:

* **某些代理服务器不能正确**处理HTTP Pipelining
* 正确的流水线**实现十分复杂**
* **队头堵塞**:即便Pipelinning使同一个TCP连接在同一时刻可以发送多个请求,但是服务器还是得顺序处理请求,只要前面有请求没有处理,后面的处理了也不会响应回去的

> HTTP2.0通过了**多路复用才得以解决该问题**
>
> *HTTP2是在HTTPS上现实的*

#### 问题四:浏览器http请求的并发性是如何体现的

在我们看到控制台的http请求看上去的是异步的,*实则是同步的*,*其实是浏览器建立了多个TCP连接,来支持多个http请求*

#### 注意

如果*图片都是https的连接*,浏览器会先和服务器*协商*使用http2的*多路复用功能*进行传输