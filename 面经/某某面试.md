#### $(document).ready和$(document).load(window.onload)的区别

DOM文档加载顺序

1. 解析html结构
2. 加载外部脚本和样式表文件
3. 解析并执行脚本
4. 构造html,dom模型  //ready
5. 加载图片等外部文件
6. 页面加载完毕  //load

##### ready比load先执行

> 可以看出ready是一定比load快的
>
> load需要*等待图片等所有资源加载完毕*才得以执行
>
> ready只需要*等待DOM结构绘制完毕*就可以执行

##### ready比load执行多

$(document).load*不能编写多个*,如果编写多个,*最后的一个会将前面的覆盖*

$(document).ready*可以编写多个*,*并且都可以得到执行*

##### 执行效率不同

在图片等还没有加载完毕时 如果绑定了鼠标事件,那么ready是比load效率高的

但是,在*某些时候必须用load,如果按钮图片*(因为ready不会等待图片等资源)

#### 渐进jpg

渐进jgp (PJPEG),三种流行压缩模式之一

渐进指的就是当浏览器请求图像时,并不是要等待完整的图片资源后再显示,而是先*绘制出一个图片的轮廓,内部是模糊的.然后浏览器对图片进行逐行渲染*

在遇到大图片时,用户就不必干等着整个图片加载,而是慢慢的有东西可看

主流浏览器基本兼容PJPEG

如果不兼容PJPEG,那么会自动是jpg的方式进行加载

#### 除了input还有其他方法上传文件吗

js没有办法直接读取本地磁盘的图片

那么如果不通过input来获取图片,就只能是上传固定的图片,比如是当前页面的截图等

* 使用canvas绘制当前截图,转为base64上传
* 使用ajax读取canvas绘制的图片url,拿到blob,转为file对象,放到formdata后post给后台

#### 本地预览图片

如果要本地预览图片,那么这个图片肯定是已经选择了,但还未上传.

* 通过createObjectURL对选择的图片数据上次一个blob对象路径
* 使用fileReader读取图片流

